---
title: "Project title"
subtitle: "Report"
format: html
editor: visual
execute:
  echo: true
---

```{r}
#| label: load-data-2
library(tidyverse)
library(readr)
police_shootings <- read_csv("data/police_shootings.csv")
glimpse(police_shootings)

```

```{r}
 sum(police_shootings$`Factors.Mental-Illness`)


```

\*\*everyone in this data frame has mental illness. possible misidentification; this is a problem as it could potentially help the policemen

**Introduction**

\# Data 2 (Police Shootings)

This data is from the CORGIS Dataset Project and was created in 9/15/2021. The data was compiled from the Washington Post.

The Washington Post regularly collects this data as police shootings happen. The Post collected the data by looking at local news reports, law enforcement websites and social media, and by monitoring independent databases such as Killed by Police and Fatal Encounters. In necessary cases, the Post did additional research.

This data set collects data on fatal shootings in the United States by a police officer in the line of duty from Jan. 1, 2015 to Sept. 11, 2021. This data includes gender, race, mental illness, location, and date. Each observation represents a fatal shooting event by a police officer.

**Research question**

\- A well formulated research question. (You may include more than one research question if you want to receive feedback on different ideas for your project. However, one per data set is required.)

How do race, gender, and whether they were armed or not affect rates of police shootings over time across the United States?

Our dataset includes 6570 rows meaning that at least 6570 people were killed by police from 2015 to 2021. By discovering how different factors affect the number of shootings, we can begin to understand why these tragedies happen, and what we can do to stop them from happening.

The research topic looks at the correlation between race, gender, and age and police shooting rates. We would expect that male individuals of minority communities with previous mental illnesses would be more likely to be affected.

One ethical concern is the possibility of misinformation in the data and a lack of accurate reporting. Not every police shooting is reported or is handled correctly. Although the Washington post collected the data from many different sources, there is no way of guaranteeing that the data set is perfect. Another concern is consent and whether the victims families want their loved ones to have identifying information (like their name and information about their death) in a public database. It is a very sensitive topic and should be treated as such.

\- Identify the types of variables in your research question. Categorical? Quantitative?

Person.Name - String (Categorical)\\

Person.Age - Integer (Quantitative)\\

Person.Gender - String (Categorical)\\

Person.Race - String (Categorical)\\

Incident.Date.Month - Integer (Categorical)\\

Incident.Date.Day - Integer (Quantitative)\\

Incident.Date.Year - Integer (Quantitative)\\

Incident.Date.Full - String (Categorical)\\

Incident.Location.City - String (Categorical)\\

Incident.Location.State - String (Categorical)\\

Factors.Armed - String\\

Factors.Mental-Illness - Boolean (Categorical)\\

Factors.Threat-Level - String (Categorical)\\

Factors.Fleeing - String (Categorical)\\

Shooting.Manner - String (Categorical)\\

Shooting.Body-Camera - Boolean (Categorical)

**Methodology**

Linear Regression model

Dot mods (scatter plot)

Location type - Geographical map

Race - Bar charts

urban vs. rural

We used box plots to visualize male versus female as it is the best way to show distributions of numeric data values between multiple groups. It made the differences in age between male and female victims very clear. We could compare median, range, and outliers.

We decide not to make a visualization based on the mental illness variable. We believe this would pose an ethical issue because mental health is a spectrum.  Having a mental illness cannot be reduced to a simple “Yes” or “No”. There were many other variables that we decided would be a better focus.

probability relating arnament or not

**Results**

In yearly-analysis, we chose to do a line graph to best represent the progression of shooting per day over time as it effectivley reveals trends and changes in shooting per day across the years.

As seen by box-plot-gender, the medians for female and male age are roughly 34 years old for male and 35 years old for female. Male victims differ by their outliers, as many male victims are over the age of 75. The unknown victims appear to be significantly younger as seen by the median of \~21 years old.

```{r}
#| label: summary-stats

police_shootings |>
  summarize(mean_age = mean(Person.Age),
            median_age = median(Person.Age),
            stdv_age = sd(Person.Age))
```

```{r}
#| label: yearly-analysis

# Shootings per year
yearly_shootings <- police_shootings |>
  group_by(Incident.Date.Year) |>
  count(Incident.Date.Year) 

days_in_year <- c(365, 366, 365, 365, 365, 366, 253)

yearly_shootings |>
  ggplot(aes(x = Incident.Date.Year, y = n/days_in_year)) +
  geom_point() +
  geom_line() +
  labs(
    title = "Shootings per Day",
    x = "Year", 
    y = "Number of Shootings")
```

```{r}
#| label: box-plot-gender

police_shootings |> 
  ggplot(
    aes(x = Person.Age, color = Person.Gender)) + 
    geom_boxplot() + 
    labs(title = "Relationship between Sex and Age", x = "Age", y = "Count", color = "Sex") 
```

```{r}
#| label: box-plots-race

police_shootings |> 
  ggplot(
    aes(x = Person.Age, color = Person.Race)) + 
    geom_boxplot() + 
    labs(title = "Relationship between Race and Age", x = "Age", y = "Count", color = "Race") 
```

```{r}
#| label: arms-status

police_shootings |>
  filter(Factors.Armed != "unknown") |>
  mutate(Factors.Armed.Test = if_else(Factors.Armed == "unarmed" | Factors.Armed == "toy weapon", "unarmed", "armed with weapon")) |>
  ggplot(aes(x = Person.Gender, fill = Factors.Armed.Test)) +
  geom_bar(position = "fill") +
  labs(
    title = "Arms Status of Victims by Gender",
    y = "% of Victims",
    x = "Sex",
    fill = "Arms Status")

# Armed with weapons include toy weapons...
```
